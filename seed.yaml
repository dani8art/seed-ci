templates:
  - .release-it.json
  - .circleci/config.yml
  - .circleci/skip-when-release

scripts:
  beforePlant: echo "execute before plant circleci seed"
  afterPlant: npm i --save-dev @commitlint/cli@^8.2.0 @commitlint/config-conventional@^8.2.0 @release-it/conventional-changelog@^1.1.0

values:
  artifact: circleci
  git:
    name: Totem Bot
    email: totem-bot@darteaga.com

  cache:
    - node_modules

  # By default the buil job executes `npm ci` if build.cmd is configured then it is also executed.
  #   build:
  #     cmd: npm build

  # By default the test job executes `npm test`
  #   test:
  #     cmd: npm test:ci
  #     dependencies:
  #       - bitnami/mongodb:4.2-debian-9

  release:
    enabled: false

  deployment:
    enabled: false
    # you could use different types of deployment depend on the package type [npm, docker, s3]
    packageType: docker
    docker: # if you choose docker
      image: darteaga/pets
      additionalTags:
        - latest
#     npm: # if you choose npm
#       tokenVar: MY_TOKEN # by default it is NPM_TOKEN
#     s3: # if you choose s3
#       bucket: dist/1.0.1
#       files:
#         - seed.yaml

